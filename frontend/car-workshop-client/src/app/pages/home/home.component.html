<h1>garage list</h1>

<!-- multi-select to pick garages -->
<mat-form-field appearance="fill">
  <mat-label>select garages</mat-label>
  <mat-select multiple [(ngModel)]="selectedGarages" [disabled]="isLoading">
    <mat-option *ngFor="let garage of garagesFromGov" [value]="garage">
      {{ garage.shemMosah }}
    </mat-option>
  </mat-select>
</mat-form-field>

<!-- button to add selected garages -->
<button mat-raised-button color="primary" (click)="addSelectedGarages()" [disabled]="isLoading">add</button>

<!-- show loading or messages -->
<p *ngIf="isLoading">loading...</p>
<p *ngIf="message">{{ message }}</p>

<!-- saved garages section -->
<h2>saved garages</h2>
<p *ngIf="savedGarages.length === 0">no garages added yet</p>

<!-- table showing saved garages -->
<table mat-table [dataSource]="savedGarages" class="mat-elevation-z8">

  <!-- column misparMosah -->
  <ng-container matColumnDef="misparMosah">
    <th mat-header-cell *matHeaderCellDef> mispar mosah </th>
    <td mat-cell *matCellDef="let g"> {{ g.misparMosah }} </td>
  </ng-container>

  <!-- column shemMosah -->
  <ng-container matColumnDef="shemMosah">
    <th mat-header-cell *matHeaderCellDef> garage name </th>
    <td mat-cell *matCellDef="let g"> {{ g.shemMosah }} </td>
  </ng-container>

  <!-- column codSugMosah -->
  <ng-container matColumnDef="codSugMosah">
    <th mat-header-cell *matHeaderCellDef> cod type </th>
    <td mat-cell *matCellDef="let g"> {{ g.codSugMosah }} </td>
  </ng-container>

  <!-- column sugMosah -->
  <ng-container matColumnDef="sugMosah">
    <th mat-header-cell *matHeaderCellDef> garage type </th>
    <td mat-cell *matCellDef="let g"> {{ g.sugMosah }} </td>
  </ng-container>

  <!-- column ktovet -->
  <ng-container matColumnDef="ktovet">
    <th mat-header-cell *matHeaderCellDef> address </th>
    <td mat-cell *matCellDef="let g"> {{ g.ktovet }} </td>
  </ng-container>

  <!-- column yishuv -->
  <ng-container matColumnDef="yishuv">
    <th mat-header-cell *matHeaderCellDef> city </th>
    <td mat-cell *matCellDef="let g"> {{ g.yishuv }} </td>
  </ng-container>

  <!-- column telephone -->
  <ng-container matColumnDef="telephone">
    <th mat-header-cell *matHeaderCellDef> telephone </th>
    <td mat-cell *matCellDef="let g"> {{ g.telephone }} </td>
  </ng-container>

  <!-- column mikud -->
  <ng-container matColumnDef="mikud">
    <th mat-header-cell *matHeaderCellDef> zip code </th>
    <td mat-cell *matCellDef="let g"> {{ g.mikud }} </td>
  </ng-container>

  <!-- column codMiktzoa -->
  <ng-container matColumnDef="codMiktzoa">
    <th mat-header-cell *matHeaderCellDef> profession code </th>
    <td mat-cell *matCellDef="let g"> {{ g.codMiktzoa }} </td>
  </ng-container>

  <!-- column miktzoa -->
  <ng-container matColumnDef="miktzoa">
    <th mat-header-cell *matHeaderCellDef> profession </th>
    <td mat-cell *matCellDef="let g"> {{ g.miktzoa }} </td>
  </ng-container>

  <!-- column menahelMiktzoa -->
  <ng-container matColumnDef="menahelMiktzoa">
    <th mat-header-cell *matHeaderCellDef> manager </th>
    <td mat-cell *matCellDef="let g"> {{ g.menahelMiktzoa }} </td>
  </ng-container>

  <!-- column rashamHavarot -->
  <ng-container matColumnDef="rashamHavarot">
    <th mat-header-cell *matHeaderCellDef> company reg </th>
    <td mat-cell *matCellDef="let g"> {{ g.rashamHavarot }} </td>
  </ng-container>

  <!-- column testime -->
  <ng-container matColumnDef="testime">
    <th mat-header-cell *matHeaderCellDef> test time </th>
    <td mat-cell *matCellDef="let g"> {{ g.testime }} </td>
  </ng-container>

  <!-- header row and data rows -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
</table>
